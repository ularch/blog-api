# ğŸŒ huaman-lou.top åŸŸåé…ç½®æ­¥éª¤

## ğŸ“‹ å½“å‰çŠ¶æ€

âœ… **Worker å·²éƒ¨ç½²**: https://simple-blog-api.gudaobaiyun12.workers.dev  
âœ… **åŸŸåå¯è§£æ**: huaman-lou.top â†’ 198.18.2.186  
âœ… **ä»£ç å·²å‡†å¤‡**: å®‰å…¨ç‰ˆæœ¬å·²åˆ›å»º  

## ğŸ¯ é…ç½®ç›®æ ‡

å°†ä½ çš„åšå®¢APIç»‘å®šåˆ°è‡ªå®šä¹‰åŸŸåï¼Œå®ç°ä»¥ä¸‹è®¿é—®æ–¹å¼ï¼š
- `https://huaman-lou.top/api/posts` - ä¸»APIç«¯ç‚¹
- `https://api.huaman-lou.top/api/posts` - APIå­åŸŸåç«¯ç‚¹

## ğŸ“ å…·ä½“é…ç½®æ­¥éª¤

### æ­¥éª¤ 1: é€šè¿‡ Cloudflare Dashboard é…ç½®

1. **ç™»å½• Cloudflare Dashboard**
   - è®¿é—®: https://dash.cloudflare.com
   - ç™»å½•ä½ çš„è´¦æˆ·

2. **æ·»åŠ åŸŸååˆ° Cloudflareï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰**
   ```
   ç‚¹å‡» "Add site" â†’ è¾“å…¥ "huaman-lou.top" â†’ é€‰æ‹©å…è´¹è®¡åˆ’
   ```

3. **é…ç½® Worker è‡ªå®šä¹‰åŸŸå**
   ```
   å·¦ä¾§èœå• â†’ Workers and Pages â†’ ç‚¹å‡» "simple-blog-api"
   â†’ ç‚¹å‡» "Triggers" æ ‡ç­¾ â†’ ç‚¹å‡» "Add Custom Domain"
   ```

4. **æ·»åŠ åŸŸå**
   ```
   è¾“å…¥: huaman-lou.top
   æˆ–è€…: api.huaman-lou.top
   ç‚¹å‡» "Add Custom Domain"
   ```

### æ­¥éª¤ 2: DNS é…ç½®éªŒè¯

**å¦‚æœ huaman-lou.top å·²åœ¨ Cloudflare ç®¡ç†**:
1. è½¬åˆ° "DNS" â†’ "Records"
2. ç¡®ä¿æœ‰ä»¥ä¸‹è®°å½•ï¼š
   ```
   ç±»å‹: A
   åç§°: @
   IPv4åœ°å€: 198.18.2.186
   ä»£ç†çŠ¶æ€: å·²ä»£ç†ï¼ˆæ©™è‰²äº‘æœµï¼‰
   ```

**å¦‚æœåŸŸååœ¨å…¶ä»–DNSæä¾›å•†**:
1. æ·»åŠ  CNAME è®°å½•ï¼š
   ```
   ç±»å‹: CNAME
   åç§°: api
   ç›®æ ‡: simple-blog-api.gudaobaiyun12.workers.dev
   ```

### æ­¥éª¤ 3: å‘½ä»¤è¡ŒéªŒè¯

```bash
# æ£€æŸ¥DNSè§£æ
nslookup huaman-lou.top
nslookup api.huaman-lou.top

# ç­‰å¾…å‡ åˆ†é’Ÿåæµ‹è¯•è®¿é—®
curl https://huaman-lou.top/api/posts
curl https://api.huaman-lou.top/api/posts
```

## ğŸ”§ æ‰‹åŠ¨å‘½ä»¤è¡Œé…ç½®ï¼ˆå¤‡é€‰æ–¹æ¡ˆï¼‰

å¦‚æœ Dashboard é…ç½®ä¸æˆåŠŸï¼Œå¯ä»¥å°è¯•å‘½ä»¤è¡Œï¼š

```bash
# æ–¹æ³•1: ç›´æ¥é€šè¿‡wranglerè®¾ç½®å­åŸŸå
wrangler custom-domains put api.huaman-lou.top

# æ–¹æ³•2: å¦‚æœåŸŸåå·²åœ¨Cloudflareï¼Œæ·»åŠ è·¯ç”±
# (éœ€è¦å…ˆç¡®ä¿åŸŸååœ¨ä½ çš„Cloudflareè´¦æˆ·ä¸­)
```

## ğŸ“Š é…ç½®éªŒè¯æ¸…å•

### âœ… é…ç½®æˆåŠŸçš„æ ‡å¿—
- [ ] `curl https://huaman-lou.top/api/posts` è¿”å›JSONæ•°æ®
- [ ] `curl https://api.huaman-lou.top/api/posts` è¿”å›JSONæ•°æ®  
- [ ] æµè§ˆå™¨è®¿é—®æ˜¾ç¤ºJSONè€Œä¸æ˜¯é”™è¯¯é¡µé¢
- [ ] SSLè¯ä¹¦æ­£å¸¸ï¼ˆæµè§ˆå™¨åœ°å€æ æ˜¾ç¤ºé”å›¾æ ‡ï¼‰

### ğŸ” æ•…éšœæ’é™¤

**é—®é¢˜1: "This domain is not configured"**
```bash
# è§£å†³æ–¹æ¡ˆ: ç¡®ä¿åŸŸåå·²æ·»åŠ åˆ°Cloudflareå¹¶ç­‰å¾…ä¼ æ’­
# æ£€æŸ¥åŸŸåçŠ¶æ€
curl -I https://huaman-lou.top
```

**é—®é¢˜2: SSLè¯ä¹¦é”™è¯¯**
```bash
# è§£å†³æ–¹æ¡ˆ: ç­‰å¾…SSLè¯ä¹¦ç”Ÿæˆï¼ˆé€šå¸¸5-15åˆ†é’Ÿï¼‰
# å¼ºåˆ¶åˆ·æ–°SSL
curl -k https://huaman-lou.top/api/posts
```

**é—®é¢˜3: 404é”™è¯¯**
```bash
# è§£å†³æ–¹æ¡ˆ: æ£€æŸ¥Workerè·¯ç”±é…ç½®
# ç¡®ä¿è·¯ç”±åŒ¹é… "/*" æˆ– "/api/*"
```

## ğŸš€ éƒ¨ç½²å®‰å…¨ç‰ˆæœ¬ï¼ˆæ¨èï¼‰

åœ¨é…ç½®åŸŸåçš„åŒæ—¶ï¼Œå»ºè®®éƒ¨ç½²å®‰å…¨åŠ å›ºç‰ˆæœ¬ï¼š

```bash
# å¤‡ä»½å½“å‰ç‰ˆæœ¬
cp simple_blog_worker.js simple_blog_worker_backup.js

# ä½¿ç”¨å®‰å…¨ç‰ˆæœ¬
cp simple_blog_worker_secure.js simple_blog_worker.js

# è®¾ç½®APIå¯†é’¥
wrangler secret put API_SECRET
# è¾“å…¥ä¸€ä¸ªå¼ºå¯†ç ï¼Œä¾‹å¦‚: secure-api-key-2024-huaman-lou

# é‡æ–°éƒ¨ç½²
wrangler deploy --env=""
```

## ğŸ“± æ›´æ–°å®¢æˆ·ç«¯é…ç½®

åŸŸåé…ç½®æˆåŠŸåï¼Œæ›´æ–°ä»¥ä¸‹æ–‡ä»¶ï¼š

### 1. æ›´æ–° HTML ç•Œé¢
```javascript
// åœ¨ blog-viewer.html å’Œ public-blog-viewer.html ä¸­
const API_BASE = 'https://huaman-lou.top/api';
// æˆ–è€…
const API_BASE = 'https://api.huaman-lou.top/api';
```

### 2. æ›´æ–°æµ‹è¯•è„šæœ¬
```bash
# æµ‹è¯•æ–°åŸŸå
./test-api.sh https://huaman-lou.top
./test-api.sh https://api.huaman-lou.top
```

## â° é¢„æœŸæ—¶é—´çº¿

- **ç«‹å³**: Workerç»‘å®šåŸŸåï¼ˆå¦‚æœåŸŸåå·²åœ¨Cloudflareï¼‰
- **5-15åˆ†é’Ÿ**: SSLè¯ä¹¦ç”Ÿæˆ
- **å‡ åˆ†é’Ÿåˆ°1å°æ—¶**: DNSä¼ æ’­å®Œæˆ
- **æœ€å¤š24å°æ—¶**: å…¨çƒDNSå®Œå…¨ä¼ æ’­

## ğŸ’¡ æœ€ä½³å®è·µå»ºè®®

1. **ä½¿ç”¨å­åŸŸå**: æ¨è `api.huaman-lou.top` ç”¨äºAPI
2. **ä¿ç•™å¤‡ç”¨åŸŸå**: ä¿æŒ `simple-blog-api.gudaobaiyun12.workers.dev` ä½œä¸ºå¤‡ç”¨
3. **ç›‘æ§æœåŠ¡**: è®¾ç½®ç›‘æ§ç¡®ä¿åŸŸåæ­£å¸¸å·¥ä½œ
4. **å®‰å…¨é…ç½®**: ä½¿ç”¨å®‰å…¨ç‰ˆæœ¬çš„Workerä»£ç 

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œæˆ‘å¯ä»¥ï¼š
1. æ£€æŸ¥å…·ä½“çš„é”™è¯¯ä¿¡æ¯
2. æä¾›è¯¦ç»†çš„æ•…éšœæ’é™¤æ­¥éª¤
3. åˆ›å»ºè‡ªåŠ¨åŒ–é…ç½®è„šæœ¬
4. ååŠ©DNSå’ŒSSLé…ç½®

å‡†å¤‡å¥½å¼€å§‹é…ç½®äº†å—ï¼ŸğŸš€
